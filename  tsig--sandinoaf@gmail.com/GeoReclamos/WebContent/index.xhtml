<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">
 
<ui:composition template="templates/template.xhtml">
    <ui:define name="title">
        <h:outputText value="#{usuarioAlta.nombre}" />
    </ui:define>
    <ui:define name="content">
        Bienvenido a GeoReclamos.
        <h:form id="form">
			<p:panel header="Registrar Usuario" id="panel">
			<p:messages id="msgs"/>
				<h:panelGrid columns="2">
					<h:outputText value="Nombre: *" />
					<p:inputText id="nombre" value="#{usuarioAlta.nombre}" required="true" label="Nombre"
						requiredMessage="El nombre es obligatorio" />
						
					<h:outputText value="Mail: *" />
					<p:inputText id="mail" value="#{usuarioAlta.mail}" required="true" label="Mail"
						requiredMessage="El mail es obligatorio" validatorMessage="ingrese un mail inválido" >
						<f:validateRegex
							pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
		
					</p:inputText>
											
					<h:outputText value="Contraseña: *" />
					<p:password value="#{usuarioAlta.password}" required="true" 
						requiredMessage="La contraseña es obligatoria" match="pwd2" validatorMessage="Las contraseñas no coinciden" />
					
					<h:outputText value="Repita su contraseña: " />
					<p:password id="pwd2" />
					
				</h:panelGrid>
				<p:commandButton value="Registrarme"  update="panel" 
                    actionListener="#{usuarioAlta.altaUsuario}" />
			</p:panel>
			
		</h:form>
        
    </ui:define>
     <ui:define name="leftMenu">
     <h:form id="formLogin">

			<h:outputLabel for="mailLog" value="Mail:" />
			<p:inputText value="#{LogIn.mail}" id="mailLog" required="true"
				label="Mail" />

			<h:outputLabel for="passwordLog" value="Password:" />
			<h:inputSecret value="#{LogIn.pass}" id="passwordLog"
				label="Password" />
			
			<p:commandButton id="LogginBtn" value="Loggin" 
			actionListener="#{LogIn.ingresar}"/>

		</h:form>
     
     </ui:define>
</ui:composition>
</html>